import{h as S,r as a,M as p,k as y,l,f as V,u as h,n as x,o as C}from"./index-CEn_Rxkj.js";function d(t){const r=S(()=>y(t)),{isStatic:o}=a.useContext(p);if(o){const[,s]=a.useState(t);a.useEffect(()=>r.on("change",s),[])}return r}function m(t){return typeof t=="number"?t:parseFloat(t)}function M(t,r={}){const{isStatic:o}=a.useContext(p),s=a.useRef(null),e=d(l(t)?m(t.get()):t),u=a.useRef(e.get()),i=a.useRef(()=>{}),g=()=>{const n=s.current;n&&n.time===0&&n.sample(x.delta),c(),s.current=C({keyframes:[e.get(),u.current],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...r,onUpdate:i.current})},c=()=>{s.current&&s.current.stop()};return a.useInsertionEffect(()=>e.attach((n,f)=>o?f(n):(u.current=n,i.current=f,V.update(g),e.get()),c),[JSON.stringify(r)]),h(()=>{if(l(t))return t.on("change",n=>e.set(m(n)))},[e]),e}export{d as a,M as u};
